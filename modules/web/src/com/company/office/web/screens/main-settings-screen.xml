<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<window xmlns="http://schemas.haulmont.com/cuba/window.xsd"
        caption="msg://settingsDialog.caption"
        class="com.company.office.web.screens.MainSettingsScreen"
        messagesPack="com.company.office.web.screens">
    <dsContext>
        <collectionDatasource id="groupsDs"
                              class="com.haulmont.cuba.security.entity.Group"
                              view="_local">
            <query>
                <![CDATA[select e from sec$Group e]]>
            </query>
        </collectionDatasource>
        <collectionDatasource id="positionsDs"
                              class="com.company.office.entity.Position">
            <query>
                <![CDATA[select e from office$Position e]]>
            </query>
        </collectionDatasource>
        <collectionDatasource id="usersDs"
                              class="com.haulmont.cuba.security.entity.User">
            <query>
                <![CDATA[select e from sec$User e]]>
            </query>
        </collectionDatasource>
    </dsContext>
    <dialogMode height="600"
                width="800"/>
    <layout expand="buttonsPanel"
            spacing="true">
        <hbox id="companyBox"
              expand="txtCompanyName"
              spacing="true"
              width="500px">
            <label align="MIDDLE_LEFT"
                   value="msg://settingsDialog.companyName"
                   width="110px"/>
            <textField id="txtCompanyName"/>
        </hbox>
        <groupBox id="groupsBox"
                  caption="msg://settingsDialog.groupsBox"
                  spacing="true"
                  width="500px">
            <hbox id="managersBox"
                  expand="lookupManagersGroup"
                  spacing="true"
                  width="100%">
                <label align="MIDDLE_LEFT"
                       value="msg://settingsDialog.managersGroup"
                       width="80px"/>
                <lookupField id="lookupManagersGroup"
                             nullOptionVisible="false"
                             optionsDatasource="groupsDs"
                             required="true"/>
            </hbox>
            <hbox id="registratorsBox"
                  expand="lookupRegistratorsGroup"
                  spacing="true"
                  width="100%">
                <label align="MIDDLE_LEFT"
                       value="msg://settingsDialog.registratorsGroup"
                       width="80px"/>
                <lookupField id="lookupRegistratorsGroup"
                             nullOptionVisible="false"
                             optionsDatasource="groupsDs"
                             required="true"/>
            </hbox>
            <hbox id="applicantsBox"
                  expand="lookupApplicantsGroup"
                  spacing="true"
                  width="100%">
                <label align="MIDDLE_LEFT"
                       value="msg://settingsDialog.applicantsGroup"
                       width="80px"/>
                <lookupField id="lookupApplicantsGroup"
                             nullOptionVisible="false"
                             optionsDatasource="groupsDs"
                             required="true"/>
            </hbox>
            <hbox id="workersBox"
                  expand="lookupWorkersGroup"
                  spacing="true"
                  width="100%">
                <label align="MIDDLE_LEFT"
                       value="msg://settingsDialog.workersGroup"
                       width="80px"/>
                <lookupField id="lookupWorkersGroup"
                             nullOptionVisible="false"
                             optionsDatasource="groupsDs"
                             required="true"/>
            </hbox>
        </groupBox>
        <groupBox id="positionsBox"
                  caption="msg://settingsDialog.positionsBox"
                  spacing="true"
                  width="500px">
            <hbox id="initPositionBox"
                  expand="lookupInitPosition"
                  spacing="true"
                  width="100%">
                <label align="MIDDLE_LEFT"
                       value="msg://settingsDialog.initPosition"
                       width="80px"/>
                <lookupField id="lookupInitPosition"
                             nullOptionVisible="false"
                             optionsDatasource="positionsDs"
                             required="true"/>
            </hbox>
            <hbox id="finalPositionBox"
                  expand="lookupFinalPosition"
                  spacing="true"
                  width="100%">
                <label value="msg://settingsDialog.finalPosition"
                       width="80px"/>
                <lookupField id="lookupFinalPosition"
                             optionsDatasource="positionsDs"
                             required="true"/>
            </hbox>
        </groupBox>
        <buttonsPanel id="buttonsPanel">
            <button id="btnOk"
                    caption="mainMsg://actions.Ok"
                    icon="icons/ok.png"
                    invoke="onBtnOkClick"/>
            <button id="btnCancel"
                    caption="mainMsg://actions.Cancel"
                    description="Esc"
                    icon="icons/cancel.png"
                    invoke="onBtnCancelClick"/>
        </buttonsPanel>
    </layout>
</window>
